<%-include('admin-header')%>
<div class="breadcrumbs">
    <div class="container">

      <div class="d-flex justify-content-between align-items-center">
        <h2>Edit Service</h2>
        
      </div>

    </div>
  </div><!-- End Breadcrumbs -->

    <div class="container-fluid d-flex flex-column justify-content-center align-item-center  shadow w-50 p-4 mt-4 ">
    <h2>Edit Service</h2>
    <form id="update" method="post">
	    <div class="mb-3 ">
	  <label for="exampleFormControlInput1" class="form-label">Name</label>
	  <input type="text" class="form-control" id="exampleFormControlInput1" name="title" value="<%= service.title%>" placeholder="name@example.com">
	</div>
	<div class="mb-3">
	  <label for="exampleFormControlTextarea1" class="form-label">Description</label>
	  <input class="form-control" id="exampleFormControlTextarea1" name="description" value="<%= service.description%>" rows="3"></input>
	</div>
	<div class="input-group mb-3">
  <input type="file" class="form-control" id="inputGroupFile02" name="image">
 <!--  <label class="input-group-text" for="inputGroupFile02">Upload</label>--> 
</div>
	<center><button type="submit" name="edit" class="btn btn-primary w-50">Edit</button></center>
	</form>
	</div>
    <br>
    <br>
 <script>
     $('#update').submit(function(event){
         event.preventDefault();
         var unindexed_array=$(this).serializeArray();
         var data={}
         $.map(unindexed_array,function (n,i) {
             data[n['name']]=n['value']
         })
         var request = {
             "url": `http://localhost:4000/api/services/${data.id}`,
            "method":"PUT",
            "data":data
         }
         $.ajax(request).done(function(response){
             alert("updated!")
         })
     })
 </script>
  <%-include('footer')%>
